{"version":3,"sources":["utils/cookie.ts","config/axios.ts","api/userService.ts","components/CustomSnackBar/index.tsx","components/CustomSnackBar/index.module.less","api/postService.ts","../node_modules/_@material-ui_core@4.11.4@@material-ui/core/esm/AppBar/AppBar.js","../node_modules/_@material-ui_core@4.11.4@@material-ui/core/esm/Toolbar/Toolbar.js","pages/Post/index.module.less","../node_modules/_@material-ui_icons@4.11.2@@material-ui/icons/Send.js","../node_modules/_@material-ui_core@4.11.4@@material-ui/core/esm/Divider/Divider.js","pages/Post/index.tsx"],"names":["setToken","token","cookie","set","config","TOKEN_KEY","getToken","get","removeToken","remove","request","options","axios","defaults","headers","baseURL","interceptors","use","error","Promise","reject","response","console","log","data","code","AppConfig","LOGIN_EXPIRE","Error","msg","SUCCESS_CODE","resolve","setRequestMethod","method","apiUserLogin","a","url","apiUserRegister","CustomSnackBar","success","duration","autoHideDuration","anchorOrigin","vertical","horizontal","children","className","styles","root","icon","fontSize","severity","module","exports","apiCreatePost","apiGetPosts","params","AppBar","React","props","ref","classes","_props$color","color","_props$position","position","other","_objectWithoutProperties","Paper","_extends","square","component","elevation","clsx","concat","capitalize","withStyles","theme","backgroundColorDefault","palette","type","grey","display","flexDirection","width","boxSizing","zIndex","appBar","flexShrink","positionFixed","top","left","right","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","backgroundColor","getContrastText","colorPrimary","primary","main","contrastText","colorSecondary","secondary","colorInherit","colorTransparent","name","Toolbar","_props$component","Component","_props$disableGutters","disableGutters","_props$variant","variant","gutters","alignItems","_defineProperty","paddingLeft","spacing","paddingRight","breakpoints","up","regular","mixins","toolbar","dense","minHeight","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","value","default","_default","createElement","d","Divider","_props$absolute","absolute","_props$flexItem","flexItem","_props$light","light","_props$orientation","orientation","_props$role","role","undefined","height","margin","border","divider","bottom","inset","marginLeft","fade","middle","marginRight","alignSelf","Post","history","useHistory","useState","content","setContent","notice","useNoticeService","useRequest","manual","onSuccess","snackBarOptions","replace","onError","message","run","loading","open","backDrop","bar","onClick","goBack","title","size","send","endIcon","input","id","multiline","rows","placeholder","onChange","e","target","text","length"],"mappings":"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","file":"static/js/8.c1bab915.chunk.js","sourcesContent":["import cookie from \"js-cookie\";\nimport config from \"../config\";\n\nexport const setToken = (token: string) => cookie.set(config.TOKEN_KEY, token);\n\nexport const getToken: () => string = () => cookie.get(config.TOKEN_KEY) || \"\";\n\nexport const removeToken = () => cookie.remove(config.TOKEN_KEY);\n","import axios, { AxiosRequestConfig, AxiosError, AxiosResponse } from \"axios\";\nimport AppConfig from \".\";\nimport { getToken } from \"../utils/cookie\";\n\nexport interface ResponseData<T> {\n  code: number;\n  msg: string;\n  data: T;\n}\n\n// 指定 axios 请求类型\n\naxios.defaults.headers = {\n  \"Content-Type\": \"application/json;charset=utf-8\",\n};\n\naxios.defaults.baseURL = \"/api\";\n\n// 添加请求拦截器\naxios.interceptors.request.use(\n  (config: AxiosRequestConfig) => {\n    const token = getToken();\n    if (token) {\n      config.headers.token = token;\n    }\n\n    return config;\n  },\n  (error: AxiosError) => Promise.reject(error)\n);\n\n// 添加响应拦截器，拦截登录过期或者没有权限\naxios.interceptors.response.use(\n  (response: AxiosResponse<ResponseData<any>>) => {\n    console.log(response);\n    if (!response.data) {\n      return Promise.resolve(response);\n    }\n\n    // 登录已过期或者未登录\n    if (response.data.code === AppConfig.LOGIN_EXPIRE) {\n      //   Modal.confirm({\n      //     title: \"系统提示\",\n      //     content: response.data.msg,\n      //     okText: \"重新登录\",\n      //     onOk() {\n      //       store.dispatch(clearSideBarRoutes());\n      //       store.dispatch(logout());\n      //       window.location.href = `${\n      //         window.location.origin\n      //       }/react-ant-admin/system/login?redirectURL=${encodeURIComponent(\n      //         window.location.href\n      //       )}`;\n      //     },\n      //     onCancel() {},\n      //   });\n\n      return Promise.reject(new Error(response.data.msg));\n    }\n\n    // 请求成功\n    if (response.data.code === AppConfig.SUCCESS_CODE) {\n      return response.data as any;\n    }\n\n    // 请求成功，状态不为成功时\n    // message.error(response.data.msg);\n\n    return Promise.reject(new Error(response.data.msg));\n  },\n  (error: AxiosError) => {\n    // message.error(error.message);\n\n    return Promise.reject(error);\n  }\n);\n\n// 统一发起请求的函数\nexport default function request<T>(options: AxiosRequestConfig) {\n  return axios.request<T>(options);\n}\n","import { Method } from \"axios\";\nimport request from \"../config/axios\";\nimport { UserState } from \"../store/useUserModel\";\nimport { Utils } from \"../utils/func\";\n\n// interface PlainObject {}\n\nexport interface UserLoginData {\n  email: string; //邮箱\n  password: string;\n}\n\nexport interface UserRegisterData {\n  email: string; // 邮箱\n  password: string;\n  username: string;\n}\n\nexport const isMockEnv = () => false;\n\nexport const setRequestMethod = (method: Method): Method => {\n  if (isMockEnv()) {\n    return \"GET\";\n  }\n  return method;\n};\n\nexport async function apiUserLogin(data: UserLoginData) {\n  // await Utils.Sleep(500);\n  return request<UserState>({\n    method: setRequestMethod(\"POST\"),\n    url: \"/user/login\",\n    data: data,\n  });\n}\n\nexport async function apiUserRegister(data: UserRegisterData) {\n  // await Utils.Sleep(500);\n  return request<UserState>({\n    method: setRequestMethod(\"POST\"),\n    url: \"/user/register\",\n    data: data,\n  });\n}\n","import Alert from \"@material-ui/lab/Alert\";\nimport { SnackbarProps } from \"@material-ui/core\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport styles from \"./index.module.less\";\n\nconst CustomSnackBar = (\n  msg: string = \"Success !\",\n  success: boolean = true,\n  duration: number = 600\n): SnackbarProps => {\n  return {\n    autoHideDuration: duration,\n    anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" },\n    children: (\n      <div className={styles.root}>\n        <Alert\n          icon={<CheckIcon fontSize=\"inherit\" />}\n          severity={success ? \"success\" : \"error\"}\n        >\n          {msg}\n        </Alert>\n      </div>\n    ),\n  };\n};\n\nexport default CustomSnackBar;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"index_root__2hp4C\"};","import { Method } from \"axios\";\nimport request from \"../config/axios\";\nimport { UserState } from \"../store/useUserModel\";\nimport { Utils } from \"../utils/func\";\nimport { setRequestMethod } from \"./userService\";\nimport { PageQueryParams, QueryListResponseData } from \"../types\";\n\ninterface PlainObject {}\n\nexport interface CreatePostData {\n  content: string;\n}\n\nexport interface Post {\n  postId: number;\n  avatar: string;\n  username: string;\n  userId: string;\n  createdAt: string;\n  content: string;\n}\n\nexport async function apiCreatePost(data: CreatePostData) {\n  // await Utils.Sleep(500);\n  return request<PlainObject>({\n    method: setRequestMethod(\"POST\"),\n    url: \"/post/createPost\",\n    data: data,\n  });\n}\n\nexport async function apiGetPosts(data: PageQueryParams) {\n  // await Utils.Sleep(500);\n  return request<QueryListResponseData<Post>>({\n    method: setRequestMethod(\"GET\"),\n    url: \"/post/getPosts\",\n    params: data,\n  });\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nimport Paper from '../Paper';\nexport var styles = function styles(theme) {\n  var backgroundColorDefault = theme.palette.type === 'light' ? theme.palette.grey[100] : theme.palette.grey[900];\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      width: '100%',\n      boxSizing: 'border-box',\n      // Prevent padding issue with the Modal and fixed positioned AppBar.\n      zIndex: theme.zIndex.appBar,\n      flexShrink: 0\n    },\n\n    /* Styles applied to the root element if `position=\"fixed\"`. */\n    positionFixed: {\n      position: 'fixed',\n      top: 0,\n      left: 'auto',\n      right: 0,\n      '@media print': {\n        // Prevent the app bar to be visible on each printed page.\n        position: 'absolute'\n      }\n    },\n\n    /* Styles applied to the root element if `position=\"absolute\"`. */\n    positionAbsolute: {\n      position: 'absolute',\n      top: 0,\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the root element if `position=\"sticky\"`. */\n    positionSticky: {\n      // ⚠️ sticky is not supported by IE 11.\n      position: 'sticky',\n      top: 0,\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the root element if `position=\"static\"`. */\n    positionStatic: {\n      position: 'static'\n    },\n\n    /* Styles applied to the root element if `position=\"relative\"`. */\n    positionRelative: {\n      position: 'relative'\n    },\n\n    /* Styles applied to the root element if `color=\"default\"`. */\n    colorDefault: {\n      backgroundColor: backgroundColorDefault,\n      color: theme.palette.getContrastText(backgroundColorDefault)\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the root element if `color=\"transparent\"`. */\n    colorTransparent: {\n      backgroundColor: 'transparent',\n      color: 'inherit'\n    }\n  };\n};\nvar AppBar = /*#__PURE__*/React.forwardRef(function AppBar(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      _props$position = props.position,\n      position = _props$position === void 0 ? 'fixed' : _props$position,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"position\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    square: true,\n    component: \"header\",\n    elevation: 4,\n    className: clsx(classes.root, classes[\"position\".concat(capitalize(position))], classes[\"color\".concat(capitalize(color))], className, position === 'fixed' && 'mui-fixed'),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? AppBar.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary', 'transparent']),\n\n  /**\n   * The positioning type. The behavior of the different options is described\n   * [in the MDN web docs](https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Positioning).\n   * Note: `sticky` is not universally supported and will fall back to `static` when unavailable.\n   */\n  position: PropTypes.oneOf(['absolute', 'fixed', 'relative', 'static', 'sticky'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAppBar'\n})(AppBar);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'relative',\n      display: 'flex',\n      alignItems: 'center'\n    },\n\n    /* Styles applied to the root element if `disableGutters={false}`. */\n    gutters: _defineProperty({\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2)\n    }, theme.breakpoints.up('sm'), {\n      paddingLeft: theme.spacing(3),\n      paddingRight: theme.spacing(3)\n    }),\n\n    /* Styles applied to the root element if `variant=\"regular\"`. */\n    regular: theme.mixins.toolbar,\n\n    /* Styles applied to the root element if `variant=\"dense\"`. */\n    dense: {\n      minHeight: 48\n    }\n  };\n};\nvar Toolbar = /*#__PURE__*/React.forwardRef(function Toolbar(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'regular' : _props$variant,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\", \"disableGutters\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, classes[variant], className, !disableGutters && classes.gutters),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Toolbar.propTypes = {\n  /**\n   * Toolbar children, usually a mixture of `IconButton`, `Button` and `Typography`.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, disables gutter padding.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['regular', 'dense'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiToolbar'\n})(Toolbar);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"index_root__2mLkk\",\"backDrop\":\"index_backDrop__1dY3l\",\"bar\":\"index_bar__3GFlj\",\"send\":\"index_send__okYEt\",\"input\":\"index_input__1_ZUB\",\"text\":\"index_text__32YRj\"};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { fade } from '../styles/colorManipulator';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      height: 1,\n      margin: 0,\n      // Reset browser default style.\n      border: 'none',\n      flexShrink: 0,\n      backgroundColor: theme.palette.divider\n    },\n\n    /* Styles applied to the root element if `absolute={true}`. */\n    absolute: {\n      position: 'absolute',\n      bottom: 0,\n      left: 0,\n      width: '100%'\n    },\n\n    /* Styles applied to the root element if `variant=\"inset\"`. */\n    inset: {\n      marginLeft: 72\n    },\n\n    /* Styles applied to the root element if `light={true}`. */\n    light: {\n      backgroundColor: fade(theme.palette.divider, 0.08)\n    },\n\n    /* Styles applied to the root element if `variant=\"middle\"`. */\n    middle: {\n      marginLeft: theme.spacing(2),\n      marginRight: theme.spacing(2)\n    },\n\n    /* Styles applied to the root element if `orientation=\"vertical\"`. */\n    vertical: {\n      height: '100%',\n      width: 1\n    },\n\n    /* Styles applied to the root element if `flexItem={true}`. */\n    flexItem: {\n      alignSelf: 'stretch',\n      height: 'auto'\n    }\n  };\n};\nvar Divider = /*#__PURE__*/React.forwardRef(function Divider(props, ref) {\n  var _props$absolute = props.absolute,\n      absolute = _props$absolute === void 0 ? false : _props$absolute,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'hr' : _props$component,\n      _props$flexItem = props.flexItem,\n      flexItem = _props$flexItem === void 0 ? false : _props$flexItem,\n      _props$light = props.light,\n      light = _props$light === void 0 ? false : _props$light,\n      _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'horizontal' : _props$orientation,\n      _props$role = props.role,\n      role = _props$role === void 0 ? Component !== 'hr' ? 'separator' : undefined : _props$role,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'fullWidth' : _props$variant,\n      other = _objectWithoutProperties(props, [\"absolute\", \"classes\", \"className\", \"component\", \"flexItem\", \"light\", \"orientation\", \"role\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, variant !== 'fullWidth' && classes[variant], absolute && classes.absolute, flexItem && classes.flexItem, light && classes.light, orientation === 'vertical' && classes.vertical),\n    role: role,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Divider.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Absolutely position the element.\n   */\n  absolute: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, a vertical divider will have the correct height when used in flex container.\n   * (By default, a vertical divider will have a calculated height of `0px` if it is the child of a flex container.)\n   */\n  flexItem: PropTypes.bool,\n\n  /**\n   * If `true`, the divider will have a lighter color.\n   */\n  light: PropTypes.bool,\n\n  /**\n   * The divider orientation.\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * @ignore\n   */\n  role: PropTypes.string,\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['fullWidth', 'inset', 'middle'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDivider'\n})(Divider);","import React, { useRef, useState } from \"react\";\nimport {\n  AppBar,\n  Toolbar,\n  Typography,\n  Button,\n  IconButton,\n  Icon,\n  TextareaAutosize,\n  TextField,\n  InputBase,\n  Divider,\n  CircularProgress,\n  Backdrop,\n} from \"@material-ui/core\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport styles from \"./index.module.less\";\nimport { useHistory } from \"react-router-dom\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport { apiCreatePost, CreatePostData } from \"../../api/postService\";\nimport { useRequest } from \"ahooks\";\nimport { useNoticeService } from \"../../components/NoticeService\";\nimport CustomSnackBar from \"../../components/CustomSnackBar\";\n\nexport interface PostProps {}\n\nconst Post: React.FC<PostProps> = () => {\n  const history = useHistory();\n  const [content, setContent] = useState<string>(\"\");\n  const notice = useNoticeService();\n\n  const { run, loading } = useRequest(apiCreatePost, {\n    manual: true,\n    onSuccess: ({ data }, params: [data: CreatePostData]) => {\n      console.log(data, params);\n      notice({\n        type: \"SnackBar\",\n        snackBarOptions: CustomSnackBar(),\n      });\n\n      history.replace(\"/index/home\");\n    },\n    onError: (error) => {\n      console.log(error);\n      notice({\n        type: \"SnackBar\",\n        snackBarOptions: { ...CustomSnackBar(error.message, false) },\n      });\n    },\n  });\n\n  function onSend() {\n    run({ content: content });\n  }\n\n  return (\n    <div className={styles.root}>\n      <Backdrop open={loading} className={styles.backDrop}>\n        <CircularProgress />\n      </Backdrop>\n      <AppBar position=\"static\">\n        <Toolbar className={styles.bar}>\n          <Button\n            onClick={() => {\n              history.goBack();\n            }}\n          >\n            Cancel\n          </Button>\n\n          <Typography className={styles.title} variant=\"subtitle1\">\n            发树洞\n          </Typography>\n\n          <Button\n            onClick={onSend}\n            size=\"small\"\n            variant=\"contained\"\n            className={styles.send}\n            endIcon={<SendIcon />}\n          >\n            Send\n          </Button>\n        </Toolbar>\n      </AppBar>\n      <InputBase\n        className={styles.input}\n        id=\"filled-multiline-flexible\"\n        multiline\n        rows={8}\n        placeholder=\"想说点什么 ?\"\n        onChange={(e) => {\n          setContent(e.target.value);\n        }}\n      />\n      <Divider />\n      <Typography className={styles.text} variant=\"subtitle2\">\n        {content.length}\n      </Typography>\n    </div>\n  );\n};\n\nexport default Post;\n"],"sourceRoot":""}